set $mod    Mod1
set $win    Mod4
set $up     k
set $down   j
set $left   h
set $right  l

# General Config
font                            pango:Fira Mono Medium, FontAwesome 11
floating_modifier               $mod
default_orientation             auto
workspace_layout                default
new_window                      pixel 2
new_float                       pixel 2
hide_edge_borders               smart
focus_follows_mouse             yes
mouse_warping                   output
popup_during_fullscreen         smart
force_focus_wrapping            yes
workspace_auto_back_and_forth   yes
focus_on_window_activation      urgent

# Terminal
bindsym $mod+Return             exec termite

# Splitting
bindsym $mod+Shift+v            split h
bindsym $mod+v                  split v
bindsym $mod+t                  split toggle

# Layout Manipulation
bindsym $mod+s                  layout stacking
bindsym $mod+w                  layout tabbed
bindsym $mod+e                  layout toggle split
bindsym $mod+f                  fullscreen toggle
bindsym $mod+Shift+space        floating toggle

# Focusing
bindsym $mod+$left              focus left
bindsym $mod+$down              focus down
bindsym $mod+$up                focus up
bindsym $mod+$right             focus right
bindsym $mod+space              focus mode_toggle
bindsym $mod+a                  focus parent
bindsym $mod+Shift+a            focus child

# Movement
bindsym $mod+Shift+h  move left   20px
bindsym $mod+Shift+j  move down   20px
bindsym $mod+Shift+k  move up     20px
bindsym $mod+Shift+l  move right  20px

# Cycle Workspaces
bindsym $mod+Tab        workspace next
bindsym $mod+Shift+Tab  workspace prev

# Kill Focused Window
bindsym $mod+Shift+q kill

# Launch rofi (a task runner)
bindsym $mod+d exec --no-startup-id rofi -show 'drun'

# Reload the i3 config file
bindsym $mod+Shift+c reload

# Restart i3 in place
bindsym $mod+Shift+r restart

# Exit i3
bindsym $mod+Shift+e exit

# Take a screenshot
bindsym Print exec --no-startup-id $HOME/.config/bin/screenshot

# Scratchpad + Sticky Windows
bindsym $mod+semicolon        scratchpad show
bindsym $mod+Shift+semicolon  move scratchpad
bindsym $mod+apostrophe       sticky toggle

# Volume Controls
bindsym XF86AudioRaiseVolume  exec --no-startup-id polybar-msg action pa_volup
bindsym XF86AudioLowerVolume  exec --no-startup-id polybar-msg action pa_voldown
bindsym XF86AudioMute         exec --no-startup-id polybar-msg action pa_volmute
bindsym XF86MonBrightnessUp   exec --no-startup-id xbacklight -inc 5
bindsym XF86MonBrightnessDown exec --no-startup-id xbacklight -dec 5


# Reshift Toggle
bindsym Scroll_Lock exec --no-startup-id pkill -USR1 '^redshift$'

# Which windows should always float? (Find class names with xprop)
for_window [class="Xfce4-taskmanager"] floating enable
for_window [class="Xfce4-panel"] floating enable
for_window [class="Xfce4-appfinder"] floating enable
for_window [class="Tk"] floating enable
for_window [class="Google Play Music Desktop Player" title="Settings"] floating enable
for_window [class="Pavucontrol"] floating enable

# Workspace Names
set $w1  "1"
set $w2  "2"
set $w3  "3"
set $w4  "4"
set $w5  "5"
set $w6  "6"
set $w7  "7"
set $w8  "8"
set $w9  "9"
set $w10 "10"

# Switch to Workspace
bindsym   $mod+1 workspace $w1
bindsym   $mod+2 workspace $w2
bindsym   $mod+3 workspace $w3
bindsym   $mod+4 workspace $w4
bindsym   $mod+5 workspace $w5
bindsym   $mod+6 workspace $w6
bindsym   $mod+7 workspace $w7
bindsym   $mod+8 workspace $w8
bindsym   $mod+9 workspace $w9
bindsym   $mod+0 workspace $w10

# Move Focused Window to Workspace
bindsym   $mod+Shift+1 move container to workspace $w1
bindsym   $mod+Shift+2 move container to workspace $w2
bindsym   $mod+Shift+3 move container to workspace $w3
bindsym   $mod+Shift+4 move container to workspace $w4
bindsym   $mod+Shift+5 move container to workspace $w5
bindsym   $mod+Shift+6 move container to workspace $w6
bindsym   $mod+Shift+7 move container to workspace $w7
bindsym   $mod+Shift+8 move container to workspace $w8
bindsym   $mod+Shift+9 move container to workspace $w9
bindsym   $mod+Shift+0 move container to workspace $w10

# Mode for Moving Floating Windows
bindsym $mod+m mode "floating layout" focus floating
mode "floating layout" {
  set $fl_cmd xdotool getactivewindow
  # {tall,short,wide}
  bindsym t exec --no-startup-id $fl_cmd windowsize 50% 100% windowmove x% 0%
  bindsym s exec --no-startup-id $fl_cmd windowsize 50% 50%
  bindsym w exec --no-startup-id $fl_cmd windowsize 100% 50% windowmove 0% 0%

  # top {left,center,right}
  bindsym y exec --no-startup-id $fl_cmd windowsize 50% 50% windowmove 0% 0%
  bindsym u exec --no-startup-id $fl_cmd windowsize 50% 50% windowmove 25% 0%
  bindsym i exec --no-startup-id $fl_cmd windowsize 50% 50% windowmove 50% 0%

  # middle {left,center,right}
  bindsym h exec --no-startup-id $fl_cmd windowsize 50% 50% windowmove 0% 25%
  bindsym j exec --no-startup-id $fl_cmd windowsize 50% 50% windowmove 25% 25%
  bindsym k exec --no-startup-id $fl_cmd windowsize 50% 50% windowmove 50% 25%

  # bottom {left,center,right}
  bindsym n exec --no-startup-id $fl_cmd windowsize 50% 50% windowmove 0% 50%
  bindsym m exec --no-startup-id $fl_cmd windowsize 50% 50% windowmove 25% 50%
  bindsym comma exec --no-startup-id $fl_cmd windowsize 50% 50% windowmove 50% 50%

  # back to normal: Enter or Escape
  bindsym Return mode "default"
  bindsym Escape mode "default"
}

# Mode for Resizing Windows
bindsym $mod+r mode "resize"
mode "resize" {
    bindsym h resize grow   left 10px
    bindsym j resize shrink up   10px
    bindsym k resize grow   up   10px
    bindsym l resize shrink left 10px

    bindsym Shift+h resize shrink right 10px
    bindsym Shift+j resize grow   down  10px
    bindsym Shift+k resize shrink down  10px
    bindsym Shift+l resize grow   right 10px

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# Misc
exec --no-startup-id /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec --no-startup-id gnome-keyring-daemon --start --components=secrets,ssh,pkcs11
exec --no-startup-id compton
exec --no-startup-id setxkbmap -option "caps:escape"
exec --no-startup-id /usr/lib/xfce4/notifyd/xfce4-notifyd

# Applets
exec --no-startup-id blueman-applet
exec --no-startup-id nm-applet
# exec --no-startup-id redshift-gtk
# exec --no-startup-id solaar

# Wallpaper
exec_always --no-startup-id feh --bg-fill --no-fehbg $HOME/media/wallpapers/012.jpg
# exec_always --no-startup-id feh --randomize --recursive --bg-fill --no-fehbg $HOME/media/wallpapers/*

# Status Bar
exec_always --no-startup-id $HOME/.config/polybar/launch.sh

